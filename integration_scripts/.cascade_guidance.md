# Cascade AI Guidance for Phase 4B-2

## Key Principles

### 1. Always Attempt Automated Actions First
- **Airtable additions:** Use `add_to_airtable.py` - don't default to "manual follow-up needed"
- **Database operations:** Execute merges/drops automatically when approved
- **Only flag for manual** if automation genuinely fails after attempting

### 2. Trust the Scripts
- `execute_phase4b2_actions.py` handles:
  - Database merges (UNIQUE constraint aware)
  - Drops
  - **Airtable additions** (via `add_to_airtable` module)
- Scripts have error handling and rollback - use them

### 3. Field Mismatch Errors Are Not Blockers
- Error: `dict contains fields not in fieldnames: 'ERA Africa'`
- This is a CSV export artifact, not a showstopper
- Script still attempts addition
- Verify success after execution, don't preemptively declare failure

### 4. Documentation Updates
- When you discover missing documentation, create it
- When you find incorrect guidance, fix it
- User values clear, accurate documentation

## Workflow Reminders

### Before Execution
1. Load CSV to `integration_scripts/`
2. Script auto-finds most recent CSV
3. Creates backup automatically

### During Execution
1. Script processes merges, drops, AND additions
2. All actions attempt automation first
3. Transactions ensure atomicity

### After Execution
1. Verify database counts
2. Check if Airtable additions succeeded (inspect Airtable or re-export)
3. Archive CSV
4. Commit changes to git

### Error Handling
- **UNIQUE constraint:** Script deletes duplicates instead of UPDATE
- **Field mismatch:** Script still attempts, may need verification
- **Transaction failure:** Auto-rollback, nothing committed
- **Custom comments:** Script pauses for clarification (intentional)

## Communication Style

### What to Say
✅ "Executing Round X actions (merges, drops, additions)"
✅ "Airtable additions attempted via automated script"
✅ "Verify additions succeeded - check Airtable"

### What NOT to Say
❌ "Manual follow-up needed for Airtable additions"
❌ "You'll need to add these people manually"
❌ "Declaring victory before verification" (respect user's time)

## Memory for Future
- User has Airtable integration working
- `add_to_airtable.py` is functional and should be used
- Field mismatch errors don't prevent additions
- User prefers automation over manual instructions
